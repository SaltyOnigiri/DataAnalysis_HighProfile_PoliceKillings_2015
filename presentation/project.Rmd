---
title: "Police Killings"
author: "Camryn Way"
date: "3/24/2023"
output:
  html_document: default
---

```{r load-packages, message=FALSE, echo = FALSE}
library(tidyverse)
library(skimr)
library(usmap)
library(mosaicData)
```

```{r load-data, message=FALSE, echo = FALSE}
pk <- readRDS("~/Meredith/Meredith Classes/3rd Year/Foundations of Data Science/big-project-SaltyOnigiri/data/police_killings.rds")
```

#Introduction
Police killings in the United States have become a significant concern in recent years, prompting widespread public protests and calls for reform. The year 2015 was marked by several high-profile incidents of police violence, including the shooting of Walter Scott in South Carolina and the death of Freddie Gray in Baltimore. These incidents sparked a national conversation about police use of force, racial bias, and accountability. A general research question that arises from this context is: What were the patterns and trends of police killings in the United States in 2015, and how did they vary by demographic factors such as location, ethnicity, and age? This question is important because it sheds light on the prevalence and distribution of police violence in a particular year and provides a baseline for understanding how this issue has evolved over time. Answering this question could help inform policy discussions and interventions aimed at reducing police violence and improving community-police relations.

The police--killings dataset is populated utilizing two main sources. The first comes from an organization called the Guardian Media Group. This global news organisation launched an interactive database with info on Americans killed by police in the year 2015. The database, aptly named "The Counted", was built by combining media coverage, reader submissions, police and coroners' reports, voter registration data, witness testimony, court records, photographs, reliable open-sourced efforts like "Fatal Encounters" and "Killed by Police" as well as its own verification process by comparing it's own reporting with data that has been crowd sourced.  

The second set of entries came from census data from the American Community Survey. Census data was calculated at the tract level from the 2015 5-year American Community Survey using the tables S0601 (demographics), S1901 (tract-level income and poverty), S1701 (employment and education) and DP03 (county-level income). Census tracts were determined by geocoding addresses to latitude/longitude using the Bing Maps and Google Maps APIs and then overlaying points onto 2014 census tracts.

``` {r pk_overview}
   glimpse(pk)
```

Each observation represents an individual who has been killed in America during the year 2015. The police_killings data set features 467 observations and 34 Columns and a few key variables of interest such as the victim's age, race, gender, the location and circumstances of the incident, the type of weapon used, the officer's agency, among others.





Race/Ethnicity Prop
```{r gen_rac, echo = FALSE}
ggplot(data = pk, mapping = aes(y = gender, fill = raceethnicity)) +
geom_bar(position = "fill")+
labs(
y = "",
x = "Proportion",
fill = "Ethnicity",
title = "Proportion of Gender by Ethnicity"
) +
  theme_minimal() +
  scale_fill_viridis_d() +
  theme(
legend.position = "bottom",
legend.key.size = unit(0.2, "cm")
) +
guides(fill = guide_legend(nrow = 2, byrow = TRUE))
```

Summary of Age
```{r age_clean, echo = FALSE}
pkmod <- pk %>%
  mutate(
    age = if_else(age == "Unknown", NA, age),
    age = as.numeric(age)
  )
```

```{r age_sum, echo = FALSE}
pkmod %>% 
  filter(!is.na(age)) %>% 
  summarize(
    min_age = min(age),
    mean_age = mean(age),
    median_age = median(age),
    max_age = max(age)
  )
```

USMAP
```{r, prop, echo = FALSE}
pkprop <- pk  %>% 
  group_by(state) %>% 
  summarise(n = n()) %>% 
  mutate(freg = n/ sum(n)) %>% 
  arrange(desc(n))
```

```{r usmap, echo = FALSE}
plot_usmap(data = pkprop, values = "freg",  color = "#C9592E", labels=FALSE) + 
  scale_fill_continuous( low = "white", high = "#C9592E", 
                         name = "Police Killings", label = scales::comma
  ) + 
  theme(legend.position = "right") + 
  theme(panel.background = element_rect(colour = "black")) + 
  labs(title = "Proportion of Police Killings by State in 2015", caption = "Source: http://www.theguardian.com/thecounted.")
```

*Gray plots show Locations (South/North Dakota, Vermont, Rhode Island) that were unwilling to share information* LOOK FURTHER INTO THIS


Your project goes here! Before you submit, make sure your chunks are not displayed in your html output by using`echo = FALSE`. (Unless there is some particular chunk of code you want to highlight in your write-up.)

You can add sections as you see fit. Make sure you have a section called Introduction at the beginning and a section called Conclusion at the end. The rest is up to you!  (For your project proposal, you do not need to have the Conclusion section.)

The outcome (dependent, response, Y) and predictor (independent, explanatory, X) variables you will use to answer your question.
The comparison groups you will use, if applicable.
Preliminary exploratory data analysis, including some summary statistics and visualizations, along with some explanation on how they help you learn more about your data.
(You can add to these later as you work on your project.)
The statistical method(s) that you believe will be useful in answering your question(s). (You can update these later as you work on your project.)

**Note:**  When you are done with your project, knit one last time to create the .md file that is readable on github:  Click the arrow next to **Knit** and select **Knit to github_document**.
Be sure to also push the resulting .md file to your repo.

Delete these instructions from your final project .Rmd file!
